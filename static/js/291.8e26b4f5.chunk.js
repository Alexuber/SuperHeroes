"use strict";(self.webpackChunksuper_heroes=self.webpackChunksuper_heroes||[]).push([[291],{2724:function(e,n,r){var i=r(9439),t=r(5987),a=r(5861),s=r(4687),c=r.n(s),o=(r(2791),r(5849)),l=r(5705),m=r(6727),d=r(9434),u=r(5369),h=r(4567),p=r(184),x=["images"],g=/^[A-Za-z\s]+$/,f=m.Ry({nickname:m.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(g,"English letters only").required("Nickname is a required field"),real_name:m.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(g,"English letters only").required("Real name is a required field"),origin_description:m.Z_().min(3,"3 characters minimum").max(1e3,"1000 characters maximum").required("Description is a required field"),catch_phrase:m.Z_().min(3,"3 characters minimum").max(600,"100 characters maximum").required("Catch phrase is a required field"),superpowers:m.IX().of(m.Z_().min(3,"3 characters minimum").max(50,"50 characters maximum").matches(g,"English letters only").label("Superpower")).required("Superpowers are required").min(1,"Please add at least one superpower")});n.Z=function(e){var n=e.selectedHero,r=e.handleSubmitEditHero,s=(0,d.I0)(),m=function(){var e=(0,a.Z)(c().mark((function e(r,a){var s,o,l,m,d,u,h,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=r.images,o=(0,t.Z)(r,x),l=new FormData,m=0,d=Object.values(s);m<d.length;m++)u=d[m],l.append("images",u);if(Object.entries(o).forEach((function(e){var n=(0,i.Z)(e,2),r=n[0],t=n[1];l.append(r,t)})),n){e.next=8;break}if(0!==s.length){e.next=8;break}return a.setFieldError("images","Please select at least one image"),e.abrupt("return");case 8:h=0;case 9:if(!(h<s.length)){e.next=18;break}if(p=s[h],["image/jpg","image/jpeg","image/png"].includes(p.type)){e.next=15;break}return a.setFieldError("images","Invalid file format. Only JPG, JPEG, PNG, and WEBP formats are allowed."),e.abrupt("return");case 15:h++,e.next=9;break;case 18:g(l),a.resetForm();case 20:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),g=function(e){var i={nickname:e.get("nickname"),real_name:e.get("real_name"),origin_description:e.get("origin_description"),catch_phrase:e.get("catch_phrase"),superpowers:e.get("superpowers").split(","),images:j(e,"images")};if(n){var t=n._id;s((0,u.HD)({formData:i,id:t})),r()}else s((0,u.gM)(i))},j=function(e,n){for(var r=[],i=e.getAll(n),t=0;t<i.length;t++)r.push(i[t]);return r};return(0,p.jsx)(l.J9,{initialValues:{nickname:n?n.nickname:"",real_name:n?n.real_name:"",origin_description:n?n.origin_description:"",catch_phrase:n?n.catch_phrase:"",superpowers:n?n.superpowers:[],images:[]},validationSchema:f,onSubmit:m,children:function(e){e.values;var r=e.setFieldValue;return(0,p.jsxs)(l.l0,{style:{display:"flex",flexDirection:"column",maxWidth:"400px"},children:[!n&&(0,p.jsx)(h.Z,{children:"Add new SuperHero!"}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{htmlFor:"nickname",children:"Nickname"}),(0,p.jsx)(l.gN,{type:"text",id:"nickname",name:"nickname",style:{width:"100%",padding:"0.5rem"}}),(0,p.jsx)(l.Bc,{name:"nickname",component:"div",style:{color:"red"}})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{htmlFor:"real_name",children:"Real Name"}),(0,p.jsx)(l.gN,{type:"text",id:"real_name",name:"real_name",style:{width:"100%",padding:"0.5rem"}}),(0,p.jsx)(l.Bc,{name:"real_name",component:"div",style:{color:"red"}})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{htmlFor:"origin_description",children:"Description"}),(0,p.jsx)(l.gN,{as:"textarea",id:"origin_description",name:"origin_description",style:{width:"100%",padding:"0.5rem"}}),(0,p.jsx)(l.Bc,{name:"origin_description",component:"div",style:{color:"red"}})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{htmlFor:"catch_phrase",children:"Catch phrase"}),(0,p.jsx)(l.gN,{as:"textarea",id:"catch_phrase",name:"catch_phrase",style:{width:"100%",padding:"0.5rem"}}),(0,p.jsx)(l.Bc,{name:"catch_phrase",component:"div",style:{color:"red"}})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{children:"Superpowers"}),(0,p.jsx)(l.F2,{name:"superpowers",children:function(e){var n=e.push,r=e.remove,i=e.form;return(0,p.jsxs)("div",{children:[i.values.superpowers.map((function(e,n){return(0,p.jsxs)("div",{children:[(0,p.jsx)(l.gN,{name:"superpowers[".concat(n,"]"),style:{width:"100%",padding:"0.5rem"}}),n>0&&(0,p.jsx)("button",{type:"button",onClick:function(){return r(n)},children:"Remove"})]},n)})),(0,p.jsx)("button",{type:"button",onClick:function(){return n("")},children:"Add Superpower"})]})}}),(0,p.jsx)(l.Bc,{name:"superpowers",component:"div",style:{color:"red"}})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{htmlFor:"images",children:"Images"}),(0,p.jsx)("input",{type:"file",id:"images",name:"images",accept:".jpg, .jpeg, .png, .webp",multiple:!0,onChange:function(e){var n=Array.from(e.target.files);r("images",n)},style:{padding:"0.5rem"}}),(0,p.jsx)(l.Bc,{name:"images",component:"div",style:{color:"red"}})]}),(0,p.jsx)(o.Z,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})}})}},291:function(e,n,r){r.r(n),r.d(n,{default:function(){return O}});var i=r(9439),t=r(7689),a=r(9164),s=r(2958),c=r(2791),o=r(1968),l=r.n(o),m=r(4841),d="Slider_img__Wfo6j",u=r(4567),h=r(184);function p(e){return(0,h.jsx)(m.Z,{children:(0,h.jsx)("img",{className:d,src:"".concat("http://localhost:3001/").concat(e.item),alt:"superman",width:"600px"})})}var x=function(e){var n=e.images;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{variant:"h2",sx:{textAlign:"center"},children:"Gallery"}),(0,h.jsx)(l(),{sx:{maxWidth:"900px",margin:"0 auto"},navButtonsAlwaysVisible:!0,next:function(r,i){return e.currentImg(n[i])},children:n.map((function(n,r){return(0,h.jsx)(p,{item:n,onDelete:e.onDelete},r)}))})]})},g=r(8870),f="HeroInfo_mainImg__IDLxs",j="HeroInfo_heroNickname__GJt0n",v="HeroInfo_heroInfoItem__xRT+H",Z="HeroInfo_catchPhrase__NJnRz",_=r(3236),y=r(2411),w=r(9900),b=r(4333),k=r(220),C=r(2683);function I(e){var n=e.powers;return(0,h.jsxs)(g.Z,{children:[(0,h.jsx)(u.Z,{children:"Super powers:"}),(0,h.jsx)(_.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:n.map((function(e,n){return(0,h.jsxs)(y.ZP,{children:[(0,h.jsx)(b.Z,{children:(0,h.jsx)(k.Z,{children:(0,h.jsx)(C.Z,{})})}),(0,h.jsx)(w.Z,{primary:e})]},n)}))})]})}var N=function(e){var n=e.hero,r=n.nickname,i=n.real_name,t=n.origin_description,a=n.superpowers,s=n.catch_phrase,c=n.images;return(0,h.jsxs)(g.Z,{children:[(0,h.jsx)(u.Z,{className:j,children:r}),(0,h.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,h.jsx)("img",{className:f,src:"".concat("http://localhost:3001/").concat(c[0]),alt:"main hero avatar",width:"320px",height:"480px"}),(0,h.jsxs)(g.Z,{children:[(0,h.jsxs)(u.Z,{className:v,children:["Nickname: ",r]}),(0,h.jsxs)(u.Z,{className:v,children:["Real name: ",i]}),(0,h.jsxs)(u.Z,{className:v,children:["Description: ",t]}),(0,h.jsx)(I,{powers:a})]})]}),(0,h.jsxs)(u.Z,{className:Z,children:["Catch phrase: ",s]})]})},S=r(9434),B=r(2390),D=r(5861),H=r(4687),E=r.n(H),F=r(5849),R=r(7247),q=r(1286),z=r(5369),P=r(7223),A={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:520,bgcolor:"background.paper",border:"none",borderRadius:"10px",boxShadow:24,p:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},W=function(e){var n=e.open,r=e.onClose,i=void 0===r?function(){}:r,t=e.children,a=e.title,s=void 0===a?"":a;return(0,h.jsx)("div",{children:(0,h.jsx)(P.Z,{open:n,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,h.jsxs)(g.Z,{sx:A,children:[s&&(0,h.jsx)(u.Z,{variant:"h5",sx:{marginBottom:"20px"},children:s}),(0,h.jsx)(g.Z,{children:t})]})})})},G=r(2724),J=function(e){var n=e.selectedImage,r=(0,c.useState)(!1),a=(0,i.Z)(r,2),s=a[0],o=a[1],l=(0,c.useState)(!1),m=(0,i.Z)(l,2),d=m[0],u=m[1],p=(0,c.useState)(!1),x=(0,i.Z)(p,2),f=x[0],j=x[1],v=(0,S.I0)(),Z=(0,t.UO)().id,_=(0,S.v9)((function(e){return(0,B.Nl)(e,Z)})),y=(0,t.s0)(),w=function(){var e=(0,D.Z)(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v((0,z.ig)(Z));case 2:o(!1),y("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:"20px"},children:[(0,h.jsx)(F.Z,{variant:"contained",size:"large",sx:{width:"200px"},startIcon:(0,h.jsx)(R.Z,{}),onClick:function(){return o(!0)},children:"Delete"}),(0,h.jsx)(F.Z,{variant:"contained",size:"large",sx:{width:"190px"},startIcon:(0,h.jsx)(q.Z,{}),onClick:function(){return u(!0)},children:"Edit"}),(0,h.jsx)(F.Z,{variant:"contained",size:"large",sx:{width:"190px"},startIcon:(0,h.jsx)(R.Z,{}),onClick:function(){return j(!0)},children:"Picture"})]}),(0,h.jsxs)(W,{title:"Delete SuperHero?",open:s,onClose:function(){return o(!1)},sx:{marginTop:"50px"},children:[(0,h.jsx)(F.Z,{variant:"contained",size:"large",sx:{width:"150px",marginRight:"30px"},onClick:w,children:"Delete"}),(0,h.jsx)(F.Z,{variant:"contained",size:"large",sx:{width:"150px"},onClick:function(){return o(!1)},children:"Cancel"})]}),(0,h.jsxs)(W,{title:"Delete this image from collection?",open:f,onClose:function(){return j(!1)},sx:{marginTop:"50px"},children:[(0,h.jsx)(F.Z,{variant:"contained",size:"large",sx:{width:"150px",marginRight:"30px"},onClick:function(){var e={id:Z,selectedImage:n};v((0,z.K5)(e)),j(!1)},children:"Delete"}),(0,h.jsx)(F.Z,{variant:"contained",size:"large",sx:{width:"150px"},onClick:function(){return j(!1)},children:"Cancel"})]}),(0,h.jsx)(W,{open:d,title:"Edit your SuperHero",onClose:function(){return u(!1)},children:(0,h.jsx)(G.Z,{selectedHero:_,handleSubmitEditHero:function(){u(!1)}})})]})},O=function(){var e,n,r=(0,c.useState)(""),o=(0,i.Z)(r,2),l=o[0],m=o[1],d=(0,t.UO)().id,p=(0,S.v9)((function(e){return(0,B.Nl)(e,d)}));(0,c.useEffect)((function(){m(p.images[0])}),[p.images]);var g=null!==(e=null===(n=(0,t.TH)().state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/";return p?(0,h.jsx)(a.Z,{maxWidth:"xl",children:(0,h.jsxs)("main",{children:[(0,h.jsx)(s.Z,{to:g,children:"Back"}),(0,h.jsx)(N,{hero:p}),(0,h.jsx)(x,{images:p.images,currentImg:function(e){m(e)}}),(0,h.jsx)(J,{sx:{position:"relative"},selectedImage:l})]})}):(0,h.jsx)(u.Z,{children:"Hero not found"})}},2390:function(e,n,r){r.d(n,{Nl:function(){return a},aT:function(){return t},xU:function(){return i}});var i=function(e){return e.heroesData.isLoading},t=function(e){return e.heroesData.heroes},a=function(e,n){return t(e).find((function(e){return e._id===n}))||null}},2958:function(e,n,r){var i=r(5849),t=(r(2791),r(1087)),a=r(5927),s=r(184);n.Z=function(e){var n=e.to,r=e.children;return(0,s.jsx)(i.Z,{sx:{marginRight:"auto",marginBottom:"28px"},component:t.rU,to:n,startIcon:(0,s.jsx)(a.Z,{}),size:"small",color:"black",variant:"backBtn",children:r})}}}]);
//# sourceMappingURL=291.8e26b4f5.chunk.js.map