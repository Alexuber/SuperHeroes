"use strict";(self.webpackChunksuper_heroes=self.webpackChunksuper_heroes||[]).push([[749],{2724:function(e,r,i){var n=i(9439),a=i(5987),t=i(5861),s=i(4687),c=i.n(s),m=(i(2791),i(5849)),o=i(5705),l=i(6727),d=i(9434),p=i(5369),u=i(4567),h=i(184),g=["images"],x=/^[A-Za-z\s]+$/,f=l.Ry({nickname:l.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(x,"English letters only").required("Nickname is a required field"),real_name:l.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(x,"English letters only").required("Real name is a required field"),origin_description:l.Z_().min(3,"3 characters minimum").max(1e3,"1000 characters maximum").required("Description is a required field"),catch_phrase:l.Z_().min(3,"3 characters minimum").max(600,"100 characters maximum").required("Catch phrase is a required field"),superpowers:l.IX().of(l.Z_().min(3,"3 characters minimum").max(50,"50 characters maximum").matches(x,"English letters only").label("Superpower")).required("Superpowers are required").min(1,"Please add at least one superpower")});r.Z=function(e){var r=e.selectedHero,i=e.handleSubmitEditHero,s=(0,d.I0)(),l=function(){var e=(0,t.Z)(c().mark((function e(i,t){var s,m,o,l,d,p,u,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=i.images,m=(0,a.Z)(i,g),o=new FormData,l=0,d=Object.values(s);l<d.length;l++)p=d[l],o.append("images",p);if(Object.entries(m).forEach((function(e){var r=(0,n.Z)(e,2),i=r[0],a=r[1];o.append(i,a)})),r){e.next=8;break}if(0!==s.length){e.next=8;break}return t.setFieldError("images","Please select at least one image"),e.abrupt("return");case 8:u=0;case 9:if(!(u<s.length)){e.next=18;break}if(h=s[u],["image/jpg","image/jpeg","image/png"].includes(h.type)){e.next=15;break}return t.setFieldError("images","Invalid file format. Only JPG, JPEG, PNG, and WEBP formats are allowed."),e.abrupt("return");case 15:u++,e.next=9;break;case 18:x(o),t.resetForm();case 20:case"end":return e.stop()}}),e)})));return function(r,i){return e.apply(this,arguments)}}(),x=function(e){var n={nickname:e.get("nickname"),real_name:e.get("real_name"),origin_description:e.get("origin_description"),catch_phrase:e.get("catch_phrase"),superpowers:e.get("superpowers").split(","),images:j(e,"images")};if(r){var a=r._id;s((0,p.HD)({formData:n,id:a})),i()}else s((0,p.gM)(n))},j=function(e,r){for(var i=[],n=e.getAll(r),a=0;a<n.length;a++)i.push(n[a]);return i};return(0,h.jsx)(o.J9,{initialValues:{nickname:r?r.nickname:"",real_name:r?r.real_name:"",origin_description:r?r.origin_description:"",catch_phrase:r?r.catch_phrase:"",superpowers:r?r.superpowers:[],images:[]},validationSchema:f,onSubmit:l,children:function(e){e.values;var i=e.setFieldValue;return(0,h.jsxs)(o.l0,{style:{display:"flex",flexDirection:"column",maxWidth:"400px"},children:[!r&&(0,h.jsx)(u.Z,{children:"Add new SuperHero!"}),(0,h.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,h.jsx)("label",{htmlFor:"nickname",children:"Nickname"}),(0,h.jsx)(o.gN,{type:"text",id:"nickname",name:"nickname",style:{width:"100%",padding:"0.5rem"}}),(0,h.jsx)(o.Bc,{name:"nickname",component:"div",style:{color:"red"}})]}),(0,h.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,h.jsx)("label",{htmlFor:"real_name",children:"Real Name"}),(0,h.jsx)(o.gN,{type:"text",id:"real_name",name:"real_name",style:{width:"100%",padding:"0.5rem"}}),(0,h.jsx)(o.Bc,{name:"real_name",component:"div",style:{color:"red"}})]}),(0,h.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,h.jsx)("label",{htmlFor:"origin_description",children:"Description"}),(0,h.jsx)(o.gN,{as:"textarea",id:"origin_description",name:"origin_description",style:{width:"100%",padding:"0.5rem"}}),(0,h.jsx)(o.Bc,{name:"origin_description",component:"div",style:{color:"red"}})]}),(0,h.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,h.jsx)("label",{htmlFor:"catch_phrase",children:"Catch phrase"}),(0,h.jsx)(o.gN,{as:"textarea",id:"catch_phrase",name:"catch_phrase",style:{width:"100%",padding:"0.5rem"}}),(0,h.jsx)(o.Bc,{name:"catch_phrase",component:"div",style:{color:"red"}})]}),(0,h.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,h.jsx)("label",{children:"Superpowers"}),(0,h.jsx)(o.F2,{name:"superpowers",children:function(e){var r=e.push,i=e.remove,n=e.form;return(0,h.jsxs)("div",{children:[n.values.superpowers.map((function(e,r){return(0,h.jsxs)("div",{children:[(0,h.jsx)(o.gN,{name:"superpowers[".concat(r,"]"),style:{width:"100%",padding:"0.5rem"}}),r>0&&(0,h.jsx)("button",{type:"button",onClick:function(){return i(r)},children:"Remove"})]},r)})),(0,h.jsx)("button",{type:"button",onClick:function(){return r("")},children:"Add Superpower"})]})}}),(0,h.jsx)(o.Bc,{name:"superpowers",component:"div",style:{color:"red"}})]}),(0,h.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,h.jsx)("label",{htmlFor:"images",children:"Images"}),(0,h.jsx)("input",{type:"file",id:"images",name:"images",accept:".jpg, .jpeg, .png, .webp",multiple:!0,onChange:function(e){var r=Array.from(e.target.files);i("images",r)},style:{padding:"0.5rem"}}),(0,h.jsx)(o.Bc,{name:"images",component:"div",style:{color:"red"}})]}),(0,h.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})}})}},5749:function(e,r,i){i.r(r);var n=i(7689),a=i(2958),t=i(9164),s=i(2724),c=i(184);r.default=function(){var e,r,i=null!==(e=null===(r=(0,n.TH)().state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/";return(0,c.jsx)(t.Z,{maxWidth:"xl",children:(0,c.jsxs)("main",{children:[(0,c.jsx)(a.Z,{to:i,children:"Back"}),(0,c.jsx)(s.Z,{})]})})}},2958:function(e,r,i){var n=i(5849),a=(i(2791),i(1087)),t=i(5927),s=i(184);r.Z=function(e){var r=e.to,i=e.children;return(0,s.jsx)(n.Z,{sx:{marginRight:"auto",marginBottom:"28px"},component:a.rU,to:r,startIcon:(0,s.jsx)(t.Z,{}),size:"small",color:"black",variant:"backBtn",children:i})}}}]);
//# sourceMappingURL=749.de8acedf.chunk.js.map