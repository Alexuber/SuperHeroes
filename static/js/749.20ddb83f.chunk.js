"use strict";(self.webpackChunksuper_heroes=self.webpackChunksuper_heroes||[]).push([[749],{6096:function(e,r,n){n.d(r,{Z:function(){return k}});var t=n(9439),a=n(5987),i=n(5861),s=n(4687),c=n.n(s),o=(n(2791),n(5705)),m=n(9434),u=n(2390),l=n(9057),d=n(4554),p=n(4567),h=n(5849),x=n(5369),f=n(3373);function g(e,r){for(var n=0;n<e.length;n++){var t=e[n];if(!["image/jpg","image/jpeg","image/png"].includes(t.type))return void r.setFieldError("images","Invalid file format. Only JPG, JPEG, PNG, and WEBP formats are allowed.")}}var v=function(e,r){for(var n=[],t=e.getAll(r),a=0;a<t.length;a++)n.push(t[a]);return n},j=n(6727),y=/^[A-Za-z\s]+$/,Z=j.Ry({nickname:j.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(y,"English letters only").required("Nickname is a required field"),real_name:j.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(y,"English letters only").required("Real name is a required field"),origin_description:j.Z_().min(3,"3 characters minimum").max(1e3,"1000 characters maximum").required("Description is a required field"),catch_phrase:j.Z_().min(3,"3 characters minimum").max(600,"100 characters maximum").required("Catch phrase is a required field"),superpowers:j.IX().of(j.Z_().min(3,"3 characters minimum").max(50,"50 characters maximum").label("Superpower")).required("Superpowers are required").min(1,"Please add at least one superpower")}),w=n(184),_=["images"],k=function(e){var r=e.selectedHero,n=e.handleSubmitEditHero,s=(0,m.v9)(u.N8),j=(0,m.v9)(u.xU),y=(0,m.I0)(),k=function(){var e=(0,i.Z)(c().mark((function e(n,i){var o,m,u,l,d,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=n.images,m=(0,a.Z)(n,_),u=new FormData,l=0,d=Object.values(o);l<d.length;l++)p=d[l],u.append("images",p);if(Object.entries(m).forEach((function(e){var r=(0,t.Z)(e,2),n=r[0],a=r[1];u.append(n,a)})),r){e.next=8;break}if(0!==o.length){e.next=8;break}return i.setFieldError("images","Please select at least one image"),e.abrupt("return");case 8:return g(o,i),e.next=11,b(u);case 11:if(s){e.next=15;break}(0,f.Z)("success","Success!"),e.next=16;break;case 15:return e.abrupt("return",(0,f.Z)("error",s));case 16:i.resetForm();case 17:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.Z)(c().mark((function e(n){var t,a,i,s,o,m,u,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.get("nickname"),a=n.get("real_name"),i=n.get("origin_description"),s=n.get("catch_phrase"),o=n.get("superpowers").split(","),m=v(n,"images"),u={nickname:t,real_name:a,origin_description:i,catch_phrase:s,superpowers:o,images:m},!r){e.next=13;break}return l=r._id,e.next=11,B({formData:u,id:l});case 11:e.next=15;break;case 13:return e.next=15,N(u);case 15:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),B=function(){var e=(0,i.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y((0,x.HD)(r));case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),N=function(){var e=(0,i.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y((0,x.gM)(r));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,w.jsx)(d.Z,{children:(0,w.jsx)(o.J9,{initialValues:{nickname:r?r.nickname:"",real_name:r?r.real_name:"",origin_description:r?r.origin_description:"",catch_phrase:r?r.catch_phrase:"",superpowers:r?r.superpowers:[],images:[]},validationSchema:Z,onSubmit:k,children:function(e){e.values;var n=e.setFieldValue;return(0,w.jsxs)(o.l0,{style:{display:"flex",flexDirection:"column",maxWidth:"400px",margin:"0 auto"},children:[!r&&(0,w.jsx)(p.Z,{sx:{marginBottom:"20px",textAlign:"center"},variant:"h5",children:"Add new SuperHero!"}),(0,w.jsxs)(d.Z,{style:{marginBottom:"1rem"},children:[(0,w.jsx)(p.Z,{htmlFor:"nickname",children:"Nickname"}),(0,w.jsx)(o.gN,{type:"text",id:"nickname",name:"nickname",style:{width:"100%",padding:"0.5rem"}}),(0,w.jsx)(o.Bc,{name:"nickname",component:"div",style:{color:"red"}})]}),(0,w.jsxs)(d.Z,{style:{marginBottom:"1rem"},children:[(0,w.jsx)(p.Z,{htmlFor:"real_name",children:"Real Name"}),(0,w.jsx)(o.gN,{type:"text",id:"real_name",name:"real_name",style:{width:"100%",padding:"0.5rem"}}),(0,w.jsx)(o.Bc,{name:"real_name",component:"div",style:{color:"red"}})]}),(0,w.jsxs)(d.Z,{style:{marginBottom:"1rem"},children:[(0,w.jsx)(p.Z,{htmlFor:"origin_description",children:"Description"}),(0,w.jsx)(o.gN,{as:"textarea",id:"origin_description",name:"origin_description",style:{width:"100%",padding:"0.5rem"}}),(0,w.jsx)(o.Bc,{name:"origin_description",component:"div",style:{color:"red"}})]}),(0,w.jsxs)(d.Z,{style:{marginBottom:"1rem"},children:[(0,w.jsx)(p.Z,{htmlFor:"catch_phrase",children:"Catch phrase"}),(0,w.jsx)(o.gN,{as:"textarea",id:"catch_phrase",name:"catch_phrase",style:{width:"100%",padding:"0.5rem"}}),(0,w.jsx)(o.Bc,{name:"catch_phrase",component:"div",style:{color:"red"}})]}),(0,w.jsxs)(d.Z,{style:{marginBottom:"1rem"},children:[(0,w.jsx)(p.Z,{children:"Superpowers"}),(0,w.jsx)(o.F2,{name:"superpowers",children:function(e){var r=e.push,n=e.remove,t=e.form;return(0,w.jsxs)("div",{children:[t.values.superpowers.map((function(e,r){return(0,w.jsxs)(d.Z,{style:{display:"flex",with:"100%"},children:[(0,w.jsx)(o.gN,{name:"superpowers[".concat(r,"]"),style:{width:"100%",padding:"0.5rem"}}),r>0&&(0,w.jsx)("button",{type:"button",onClick:function(){return n(r)},children:"Remove"})]},r)})),(0,w.jsx)("button",{type:"button",onClick:function(){return r("")},children:"Add Superpower"})]})}}),(0,w.jsx)(o.Bc,{name:"superpowers",component:"div",style:{color:"red"}})]}),(0,w.jsxs)(d.Z,{style:{marginBottom:"1rem"},children:[(0,w.jsx)("label",{htmlFor:"images",children:"Images"}),(0,w.jsx)("input",{type:"file",id:"images",name:"images",accept:".jpg, .jpeg, .png, .webp",multiple:!0,onChange:function(e){var r=Array.from(e.target.files);n("images",r)},style:{padding:"0.5rem"}}),(0,w.jsx)(o.Bc,{name:"images",component:"div",style:{color:"red"}})]}),(0,w.jsxs)(h.Z,{type:"submit",variant:"contained",color:"primary",children:[!j&&"Submitt",j&&(0,w.jsx)(l.a,{with:"25px",height:"25px",color:"#e0e1e6"})]})]})}})})}},5749:function(e,r,n){n.r(r);var t=n(7689),a=n(6751),i=n(9164),s=n(6096),c=n(184);r.default=function(){var e,r,n=null!==(e=null===(r=(0,t.TH)().state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/";return(0,c.jsx)(i.Z,{maxWidth:"lg",children:(0,c.jsxs)("main",{children:[(0,c.jsx)(a.Z,{to:n,children:"Back"}),(0,c.jsx)(s.Z,{})]})})}},2390:function(e,r,n){n.d(r,{N8:function(){return a},Nl:function(){return s},aT:function(){return i},xU:function(){return t}});var t=function(e){return e.heroesData.isLoading},a=function(e){return e.heroesData.error},i=function(e){return e.heroesData.heroes},s=function(e,r){return i(e).find((function(e){return e._id===r}))||null}},6751:function(e,r,n){var t=n(1087),a=n(5849),i=n(5927),s=n(184);r.Z=function(e){var r=e.to,n=e.children;return(0,s.jsx)(a.Z,{sx:{marginRight:"auto",marginBottom:"28px",marginTop:"28px"},component:t.rU,to:r,startIcon:(0,s.jsx)(i.Z,{}),size:"small",color:"black",variant:"backBtn",children:n})}},3373:function(e,r,n){var t=n(5985);r.Z=function(e,r){switch(e){case"success":t.Am.success(r);break;case"error":t.Am.error(r);break;default:(0,t.Am)(r)}}}}]);
//# sourceMappingURL=749.20ddb83f.chunk.js.map