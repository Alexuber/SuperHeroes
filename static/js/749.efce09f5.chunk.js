"use strict";(self.webpackChunksuper_heroes=self.webpackChunksuper_heroes||[]).push([[749],{2724:function(e,r,n){var i=n(9439),a=n(5987),t=n(5861),s=n(4687),m=n.n(s),c=(n(2791),n(5849)),o=n(5705),l=n(6727),d=n(9434),u=n(5369),p=n(184),h=["images"],g=/^[A-Za-z\s]+$/,x=l.Ry({nickname:l.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(g,"English letters only").required("Nickname is a required field"),real_name:l.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(g,"English letters only").required("Real name is a required field"),origin_description:l.Z_().min(3,"3 characters minimum").max(600,"600 characters maximum").required("Description is a required field"),catch_phrase:l.Z_().min(3,"3 characters minimum").max(600,"100 characters maximum").required("Catch phrase is a required field"),superpowers:l.IX().of(l.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(g,"English letters only").label("Superpower")).required("Superpowers are required").min(1,"Please add at least one superpower"),images:l.IX().of(l.nK().test("fileFormat","Invalid file format",(function(e){if(e&&e.length>0)for(var r=0;r<e.length;r++){var n=e[r];if(!["image/jpg"].includes(n.type))return!1}return!0}))).min(1,"Please select at least one image").required("Please select at least one image")});r.Z=function(){var e=(0,d.I0)(),r=function(){var e=(0,t.Z)(m().mark((function e(r,t){var s,c,o,l,d,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=r.images,c=(0,a.Z)(r,h),o=new FormData,l=0,d=Object.values(s);l<d.length;l++)u=d[l],o.append("images",u);Object.entries(c).forEach((function(e){var r=(0,i.Z)(e,2),n=r[0],a=r[1];o.append(n,a)})),n(o),t.resetForm();case 6:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),n=function(r){var n={nickname:r.get("nickname"),real_name:r.get("real_name"),origin_description:r.get("origin_description"),catch_phrase:r.get("catch_phrase"),superpowers:r.getAll("superpowers"),images:s(r,"images")};console.log("\ud83c\udd91  formData:",n),e((0,u.gM)(n))},s=function(e,r){for(var n=[],i=e.getAll(r),a=0;a<i.length;a++)n.push(i[a]);return n};return(0,p.jsx)(o.J9,{initialValues:{nickname:"",real_name:"",origin_description:"",catch_phrase:"",superpowers:[],images:[]},validationSchema:x,onSubmit:r,children:function(e){e.values;var r=e.setFieldValue;return(0,p.jsxs)(o.l0,{style:{display:"flex",flexDirection:"column",maxWidth:"400px"},children:[(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{htmlFor:"nickname",children:"Nickname"}),(0,p.jsx)(o.gN,{type:"text",id:"nickname",name:"nickname",style:{width:"100%",padding:"0.5rem"}}),(0,p.jsx)(o.Bc,{name:"nickname",component:"div",style:{color:"red"}})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{htmlFor:"real_name",children:"Real Name"}),(0,p.jsx)(o.gN,{type:"text",id:"real_name",name:"real_name",style:{width:"100%",padding:"0.5rem"}}),(0,p.jsx)(o.Bc,{name:"real_name",component:"div",style:{color:"red"}})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{htmlFor:"origin_description",children:"Description"}),(0,p.jsx)(o.gN,{as:"textarea",id:"origin_description",name:"origin_description",style:{width:"100%",padding:"0.5rem"}}),(0,p.jsx)(o.Bc,{name:"origin_description",component:"div",style:{color:"red"}})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{htmlFor:"catch_phrase",children:"Catch phrase"}),(0,p.jsx)(o.gN,{as:"textarea",id:"catch_phrase",name:"catch_phrase",style:{width:"100%",padding:"0.5rem"}}),(0,p.jsx)(o.Bc,{name:"catch_phrase",component:"div",style:{color:"red"}})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{children:"Superpowers"}),(0,p.jsx)(o.F2,{name:"superpowers",children:function(e){var r=e.push,n=e.remove,i=e.form;return(0,p.jsxs)("div",{children:[i.values.superpowers.map((function(e,r){return(0,p.jsxs)("div",{children:[(0,p.jsx)(o.gN,{name:"superpowers[".concat(r,"]"),style:{width:"100%",padding:"0.5rem"}}),r>0&&(0,p.jsx)("button",{type:"button",onClick:function(){return n(r)},children:"Remove"})]},r)})),(0,p.jsx)("button",{type:"button",onClick:function(){return r("")},children:"Add Superpower"})]})}}),(0,p.jsx)(o.Bc,{name:"superpowers",component:"div",style:{color:"red"}})]}),(0,p.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,p.jsx)("label",{htmlFor:"images",children:"Images"}),(0,p.jsx)("input",{type:"file",id:"images",name:"images",accept:".jpg, .jpeg, .png, .webp",multiple:!0,onChange:function(e){var n=Array.from(e.target.files);r("images",n)},style:{padding:"0.5rem"}}),(0,p.jsx)(o.Bc,{name:"images",component:"div",style:{color:"red"}})]}),(0,p.jsx)(c.Z,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})}})}},5749:function(e,r,n){n.r(r);var i=n(7689),a=n(2958),t=n(9164),s=n(2724),m=n(184);r.default=function(){var e,r,n=null!==(e=null===(r=(0,i.TH)().state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/";return(0,m.jsx)(t.Z,{maxWidth:"xl",children:(0,m.jsxs)("main",{children:[(0,m.jsx)(a.Z,{to:n,children:"Back"}),(0,m.jsx)(s.Z,{})]})})}},2958:function(e,r,n){var i=n(5849),a=(n(2791),n(1087)),t=n(5927),s=n(184);r.Z=function(e){var r=e.to,n=e.children;return(0,s.jsx)(i.Z,{sx:{marginRight:"auto",marginBottom:"28px"},component:a.rU,to:r,startIcon:(0,s.jsx)(t.Z,{}),size:"small",color:"black",variant:"backBtn",children:n})}}}]);
//# sourceMappingURL=749.efce09f5.chunk.js.map