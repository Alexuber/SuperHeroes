{"version":3,"file":"static/js/749.efce09f5.chunk.js","mappings":"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","sources":["components/HeroForm/HeroForm.jsx","pages/AddSuperHeroPage/AddSuperHeroPage.jsx","shared/BackLink/BackLink.jsx"],"sourcesContent":["import React from 'react';\nimport { Button } from '@mui/material';\nimport { Formik, Form, Field, FieldArray, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux';\nimport { addHero } from 'redux/hero/hero-operations';\n\nconst regEx = /^[A-Za-z\\s]+$/;\n\nconst validationSchema = Yup.object({\n  nickname: Yup.string()\n    .min(3, '3 characters minimum')\n    .max(30, '30 characters maximum')\n    .matches(regEx, 'English letters only')\n    .required('Nickname is a required field'),\n  real_name: Yup.string()\n    .min(3, '3 characters minimum')\n    .max(30, '30 characters maximum')\n    .matches(regEx, 'English letters only')\n    .required('Real name is a required field'),\n  origin_description: Yup.string()\n    .min(3, '3 characters minimum')\n    .max(600, '600 characters maximum')\n    .required('Description is a required field'),\n  catch_phrase: Yup.string()\n    .min(3, '3 characters minimum')\n    .max(600, '100 characters maximum')\n    .required('Catch phrase is a required field'),\n  superpowers: Yup.array()\n    .of(\n      Yup.string()\n        .min(3, '3 characters minimum')\n        .max(30, '30 characters maximum')\n        .matches(regEx, 'English letters only')\n        .label('Superpower')\n    )\n    .required('Superpowers are required')\n    .min(1, 'Please add at least one superpower'),\n  images: Yup.array()\n    .of(\n      Yup.mixed().test('fileFormat', 'Invalid file format', function (value) {\n        if (value && value.length > 0) {\n          for (let i = 0; i < value.length; i++) {\n            const file = value[i];\n            const supportedFormats = [\n              //   'image/jpeg',\n              'image/jpg',\n              //   'image/png',\n              //   'image/webp',\n            ];\n            const isValidFormat = supportedFormats.includes(file.type);\n            if (!isValidFormat) {\n              return false;\n            }\n          }\n        }\n        return true;\n      })\n    )\n    .min(1, 'Please select at least one image')\n    .required('Please select at least one image'),\n});\n\nconst HeroForm = () => {\n  const dispatch = useDispatch();\n\n  const handleSubmit = async (values, form) => {\n    const { images, ...rest } = values;\n    const formData = new FormData();\n\n    for (const file of Object.values(images)) {\n      formData.append('images', file);\n    }\n\n    Object.entries(rest).forEach(([fieldName, fieldValue]) => {\n      formData.append(fieldName, fieldValue);\n    });\n\n    // console.log('FormData contents:');\n    // for (const pair of formData.entries()) {\n    //   console.log(pair[0], pair[1]);\n    // }\n    sendHero(formData);\n    form.resetForm();\n  };\n\n  const sendHero = data => {\n    const nickname = data.get('nickname');\n    const real_name = data.get('real_name');\n    const origin_description = data.get('origin_description');\n    const catch_phrase = data.get('catch_phrase');\n    const superpowers = data.getAll('superpowers');\n    const images = getFiles(data, 'images');\n\n    const formData = {\n      nickname,\n      real_name,\n      origin_description,\n      catch_phrase,\n      superpowers,\n      images,\n    };\n\n    console.log('ðŸ†‘  formData:', formData);\n    dispatch(addHero(formData));\n  };\n\n  const getFiles = (formData, field) => {\n    const files = [];\n    const fileList = formData.getAll(field);\n\n    for (let i = 0; i < fileList.length; i++) {\n      files.push(fileList[i]);\n    }\n\n    return files;\n  };\n\n  return (\n    <Formik\n      initialValues={{\n        nickname: '',\n        real_name: '',\n        origin_description: '',\n        catch_phrase: '',\n        superpowers: [],\n        images: [],\n      }}\n      validationSchema={validationSchema}\n      onSubmit={handleSubmit}\n    >\n      {({ values, setFieldValue }) => (\n        <Form\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            maxWidth: '400px',\n          }}\n        >\n          <div style={{ marginBottom: '1rem' }}>\n            <label htmlFor=\"nickname\">Nickname</label>\n            <Field\n              type=\"text\"\n              id=\"nickname\"\n              name=\"nickname\"\n              style={{ width: '100%', padding: '0.5rem' }}\n            />\n            <ErrorMessage\n              name=\"nickname\"\n              component=\"div\"\n              style={{ color: 'red' }}\n            />\n          </div>\n          <div style={{ marginBottom: '1rem' }}>\n            <label htmlFor=\"real_name\">Real Name</label>\n            <Field\n              type=\"text\"\n              id=\"real_name\"\n              name=\"real_name\"\n              style={{ width: '100%', padding: '0.5rem' }}\n            />\n            <ErrorMessage\n              name=\"real_name\"\n              component=\"div\"\n              style={{ color: 'red' }}\n            />\n          </div>\n          <div style={{ marginBottom: '1rem' }}>\n            <label htmlFor=\"origin_description\">Description</label>\n            <Field\n              as=\"textarea\"\n              id=\"origin_description\"\n              name=\"origin_description\"\n              style={{ width: '100%', padding: '0.5rem' }}\n            />\n            <ErrorMessage\n              name=\"origin_description\"\n              component=\"div\"\n              style={{ color: 'red' }}\n            />\n          </div>\n          <div style={{ marginBottom: '1rem' }}>\n            <label htmlFor=\"catch_phrase\">Catch phrase</label>\n            <Field\n              as=\"textarea\"\n              id=\"catch_phrase\"\n              name=\"catch_phrase\"\n              style={{ width: '100%', padding: '0.5rem' }}\n            />\n            <ErrorMessage\n              name=\"catch_phrase\"\n              component=\"div\"\n              style={{ color: 'red' }}\n            />\n          </div>\n\n          <div style={{ marginBottom: '1rem' }}>\n            <label>Superpowers</label>\n            <FieldArray name=\"superpowers\">\n              {({ push, remove, form }) => (\n                <div>\n                  {form.values.superpowers.map((_, index) => (\n                    <div key={index}>\n                      <Field\n                        name={`superpowers[${index}]`}\n                        style={{ width: '100%', padding: '0.5rem' }}\n                      />\n                      {index > 0 && (\n                        <button type=\"button\" onClick={() => remove(index)}>\n                          Remove\n                        </button>\n                      )}\n                    </div>\n                  ))}\n                  <button type=\"button\" onClick={() => push('')}>\n                    Add Superpower\n                  </button>\n                </div>\n              )}\n            </FieldArray>\n            <ErrorMessage\n              name=\"superpowers\"\n              component=\"div\"\n              style={{ color: 'red' }}\n            />\n          </div>\n          <div style={{ marginBottom: '1rem' }}>\n            <label htmlFor=\"images\">Images</label>\n            <input\n              type=\"file\"\n              id=\"images\"\n              name=\"images\"\n              accept=\".jpg, .jpeg, .png, .webp\"\n              multiple\n              onChange={event => {\n                const fileList = Array.from(event.target.files);\n                setFieldValue('images', fileList);\n              }}\n              style={{ padding: '0.5rem' }}\n            />\n            <ErrorMessage\n              name=\"images\"\n              component=\"div\"\n              style={{ color: 'red' }}\n            />\n          </div>\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n            Submit\n          </Button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default HeroForm;\n","import { useLocation } from 'react-router-dom';\nimport BackLink from 'shared/BackLink/BackLink';\nimport { Container } from '@mui/material';\nimport HeroForm from 'components/HeroForm/HeroForm';\n\nconst AddSuperHeroPage = () => {\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  return (\n    <Container maxWidth=\"xl\">\n      <main>\n        <BackLink to={backLinkHref}>Back</BackLink>\n        <HeroForm />\n      </main>\n    </Container>\n  );\n};\n\nexport default AddSuperHeroPage;\n","import { Button } from '@mui/material';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport KeyboardBackspaceRoundedIcon from '@mui/icons-material/KeyboardBackspaceRounded';\n\nconst BackLink = ({ to, children }) => {\n  return (\n    <Button\n      sx={{ marginRight: 'auto', marginBottom: '28px' }}\n      component={Link}\n      to={to}\n      startIcon={<KeyboardBackspaceRoundedIcon />}\n      size=\"small\"\n      color=\"black\"\n      variant=\"backBtn\"\n    >\n      {children}\n    </Button>\n  );\n};\n\nexport default BackLink;\n"],"names":["regEx","validationSchema","Yup","nickname","min","max","matches","required","real_name","origin_description","catch_phrase","superpowers","of","label","images","test","value","length","i","file","includes","type","dispatch","useDispatch","handleSubmit","values","form","rest","formData","FormData","Object","append","entries","forEach","fieldName","fieldValue","sendHero","resetForm","data","get","getAll","getFiles","console","log","addHero","field","files","fileList","push","initialValues","onSubmit","setFieldValue","style","display","flexDirection","maxWidth","marginBottom","htmlFor","id","name","width","padding","component","color","as","remove","map","_","index","onClick","accept","multiple","onChange","event","Array","from","target","variant","backLinkHref","useLocation","state","to","children","sx","marginRight","Link","startIcon","size"],"sourceRoot":""}