"use strict";(self.webpackChunksuper_heroes=self.webpackChunksuper_heroes||[]).push([[771],{6771:function(e,r,n){n.r(r),n.d(r,{default:function(){return y}});var i=n(7689),a=n(2958),t=n(9164),s=n(7762),o=n(9439),l=n(5987),m=n(5861),c=n(4687),d=n.n(c),u=(n(2791),n(5849)),p=n(5705),h=n(6727),g=n(184),x=["images"],f=/^[A-Za-z\s]+$/,j=h.Ry({nickname:h.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(f,"English letters only").required("Nickname is a required field"),real_name:h.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(f,"English letters only").required("Real name is a required field"),origin_description:h.Z_().min(3,"3 characters minimum").max(300,"300 characters maximum").matches(f,"English letters only").required("Description is a required field"),superpowers:h.IX().of(h.Z_().min(3,"3 characters minimum").max(30,"30 characters maximum").matches(f,"English letters only").label("Superpower")).required("Superpowers are required").min(1,"Please add at least one superpower"),images:h.IX().of(h.nK().test("fileFormat","Invalid file format",(function(e){if(e&&e.length>0)for(var r=0;r<e.length;r++){var n=e[r];if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(n.type))return!1}return!0}))).min(1,"Please select at least one image").required("Please select at least one image")}),v=function(){var e=function(){var e=(0,m.Z)(d().mark((function e(r){var n,i,a,t,m,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.images,i=(0,l.Z)(r,x),a=new FormData,Object.values(n).forEach((function(e){a.append("images",e)})),Object.entries(i).forEach((function(e){var r=(0,o.Z)(e,2),n=r[0],i=r[1];a.append(n,i)})),console.log("FormData contents:"),t=(0,s.Z)(a.entries());try{for(t.s();!(m=t.n()).done;)c=m.value,console.log(c[0],c[1])}catch(d){t.e(d)}finally{t.f()}case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,g.jsx)(p.J9,{initialValues:{nickname:"",real_name:"",origin_description:"",superpowers:[],images:[]},validationSchema:j,onSubmit:e,children:function(e){e.values;var r=e.setFieldValue;return(0,g.jsxs)(p.l0,{style:{display:"flex",flexDirection:"column",maxWidth:"400px"},children:[(0,g.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,g.jsx)("label",{htmlFor:"nickname",children:"Nickname"}),(0,g.jsx)(p.gN,{type:"text",id:"nickname",name:"nickname",style:{width:"100%",padding:"0.5rem"}}),(0,g.jsx)(p.Bc,{name:"nickname",component:"div",style:{color:"red"}})]}),(0,g.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,g.jsx)("label",{htmlFor:"real_name",children:"Real Name"}),(0,g.jsx)(p.gN,{type:"text",id:"real_name",name:"real_name",style:{width:"100%",padding:"0.5rem"}}),(0,g.jsx)(p.Bc,{name:"real_name",component:"div",style:{color:"red"}})]}),(0,g.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,g.jsx)("label",{htmlFor:"origin_description",children:"Description"}),(0,g.jsx)(p.gN,{as:"textarea",id:"origin_description",name:"origin_description",style:{width:"100%",padding:"0.5rem"}}),(0,g.jsx)(p.Bc,{name:"origin_description",component:"div",style:{color:"red"}})]}),(0,g.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,g.jsx)("label",{children:"Superpowers"}),(0,g.jsx)(p.F2,{name:"superpowers",children:function(e){var r=e.push,n=e.remove,i=e.form;return(0,g.jsxs)("div",{children:[i.values.superpowers.map((function(e,r){return(0,g.jsxs)("div",{children:[(0,g.jsx)(p.gN,{name:"superpowers[".concat(r,"]"),style:{width:"100%",padding:"0.5rem"}}),r>0&&(0,g.jsx)("button",{type:"button",onClick:function(){return n(r)},children:"Remove"})]},r)})),(0,g.jsx)("button",{type:"button",onClick:function(){return r("")},children:"Add Superpower"})]})}}),(0,g.jsx)(p.Bc,{name:"superpowers",component:"div",style:{color:"red"}})]}),(0,g.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,g.jsx)("label",{htmlFor:"images",children:"Images"}),(0,g.jsx)("input",{type:"file",id:"images",name:"images",accept:".jpg, .jpeg, .png, .webp",multiple:!0,onChange:function(e){var n=Array.from(e.target.files);r("images",n)},style:{padding:"0.5rem"}}),(0,g.jsx)(p.Bc,{name:"images",component:"div",style:{color:"red"}})]}),(0,g.jsx)(u.Z,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})}})},y=function(){var e,r,n=null!==(e=null===(r=(0,i.TH)().state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/";return(0,g.jsx)(t.Z,{maxWidth:"xl",children:(0,g.jsxs)("main",{children:[(0,g.jsx)(a.Z,{to:n,children:"Back"}),(0,g.jsx)(v,{})]})})}},2958:function(e,r,n){var i=n(5849),a=(n(2791),n(1087)),t=n(5927),s=n(184);r.Z=function(e){var r=e.to,n=e.children;return(0,s.jsx)(i.Z,{sx:{marginRight:"auto",marginBottom:"28px"},component:a.rU,to:r,startIcon:(0,s.jsx)(t.Z,{}),size:"small",color:"black",variant:"backBtn",children:n})}}}]);
//# sourceMappingURL=771.ef487544.chunk.js.map